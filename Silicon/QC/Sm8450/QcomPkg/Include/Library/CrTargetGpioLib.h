/* Auto-generated by tools gpio_parser.py in ADPK */
#pragma once

#include <Library/gpio.h>
#include <oskal/common.h>
#include <oskal/cr_debug.h>
#include <oskal/cr_memory.h>
#include <oskal/cr_status.h>
#include <oskal/cr_types.h>

/* GPIO register stride */
#define GPIO_IO_REGISTER_STRIDE 0x1000

/* GPIO Function Mux List */
enum GpioTargetFuncMuxList {
  GPIO_FUNC_MUX_GPIO = 0,
  GPIO_FUNC_MUX_AON_CAM,
  GPIO_FUNC_MUX_ATEST_CHAR,
  GPIO_FUNC_MUX_ATEST_CHAR0,
  GPIO_FUNC_MUX_ATEST_CHAR1,
  GPIO_FUNC_MUX_ATEST_CHAR2,
  GPIO_FUNC_MUX_ATEST_CHAR3,
  GPIO_FUNC_MUX_ATEST_USB0,
  GPIO_FUNC_MUX_ATEST_USB00,
  GPIO_FUNC_MUX_ATEST_USB01,
  GPIO_FUNC_MUX_ATEST_USB02,
  GPIO_FUNC_MUX_ATEST_USB03,
  GPIO_FUNC_MUX_AUDIO_REF,
  GPIO_FUNC_MUX_CAM_MCLK,
  GPIO_FUNC_MUX_CCI_ASYNC,
  GPIO_FUNC_MUX_CCI_I2C,
  GPIO_FUNC_MUX_CCI_TIMER0,
  GPIO_FUNC_MUX_CCI_TIMER1,
  GPIO_FUNC_MUX_CCI_TIMER2,
  GPIO_FUNC_MUX_CCI_TIMER3,
  GPIO_FUNC_MUX_CCI_TIMER4,
  GPIO_FUNC_MUX_CMU_RNG0,
  GPIO_FUNC_MUX_CMU_RNG1,
  GPIO_FUNC_MUX_CMU_RNG2,
  GPIO_FUNC_MUX_CMU_RNG3,
  GPIO_FUNC_MUX_COEX_UART1,
  GPIO_FUNC_MUX_COEX_UART2,
  GPIO_FUNC_MUX_CRI_TRNG,
  GPIO_FUNC_MUX_CRI_TRNG0,
  GPIO_FUNC_MUX_CRI_TRNG1,
  GPIO_FUNC_MUX_DBG_OUT,
  GPIO_FUNC_MUX_DDR_BIST,
  GPIO_FUNC_MUX_DDR_PXI0,
  GPIO_FUNC_MUX_DDR_PXI1,
  GPIO_FUNC_MUX_DDR_PXI2,
  GPIO_FUNC_MUX_DDR_PXI3,
  GPIO_FUNC_MUX_DP_HOT,
  GPIO_FUNC_MUX_GCC_GP1,
  GPIO_FUNC_MUX_GCC_GP2,
  GPIO_FUNC_MUX_GCC_GP3,
  GPIO_FUNC_MUX_IBI_I3C,
  GPIO_FUNC_MUX_JITTER_BIST,
  GPIO_FUNC_MUX_MDP_VSYNC,
  GPIO_FUNC_MUX_MDP_VSYNC0,
  GPIO_FUNC_MUX_MDP_VSYNC1,
  GPIO_FUNC_MUX_MDP_VSYNC2,
  GPIO_FUNC_MUX_MDP_VSYNC3,
  GPIO_FUNC_MUX_MI2S0_DATA0,
  GPIO_FUNC_MUX_MI2S0_DATA1,
  GPIO_FUNC_MUX_MI2S0_SCK,
  GPIO_FUNC_MUX_MI2S0_WS,
  GPIO_FUNC_MUX_MI2S2_DATA0,
  GPIO_FUNC_MUX_MI2S2_DATA1,
  GPIO_FUNC_MUX_MI2S2_SCK,
  GPIO_FUNC_MUX_MI2S2_WS,
  GPIO_FUNC_MUX_MSS_GRFC0,
  GPIO_FUNC_MUX_MSS_GRFC1,
  GPIO_FUNC_MUX_MSS_GRFC10,
  GPIO_FUNC_MUX_MSS_GRFC11,
  GPIO_FUNC_MUX_MSS_GRFC12,
  GPIO_FUNC_MUX_MSS_GRFC2,
  GPIO_FUNC_MUX_MSS_GRFC3,
  GPIO_FUNC_MUX_MSS_GRFC4,
  GPIO_FUNC_MUX_MSS_GRFC5,
  GPIO_FUNC_MUX_MSS_GRFC6,
  GPIO_FUNC_MUX_MSS_GRFC7,
  GPIO_FUNC_MUX_MSS_GRFC8,
  GPIO_FUNC_MUX_MSS_GRFC9,
  GPIO_FUNC_MUX_NAV_0,
  GPIO_FUNC_MUX_NAV_1,
  GPIO_FUNC_MUX_NAV_2,
  GPIO_FUNC_MUX_PCIE0_CLKREQN,
  GPIO_FUNC_MUX_PCIE1_CLKREQN,
  GPIO_FUNC_MUX_PHASE_FLAG0,
  GPIO_FUNC_MUX_PHASE_FLAG1,
  GPIO_FUNC_MUX_PHASE_FLAG10,
  GPIO_FUNC_MUX_PHASE_FLAG11,
  GPIO_FUNC_MUX_PHASE_FLAG12,
  GPIO_FUNC_MUX_PHASE_FLAG13,
  GPIO_FUNC_MUX_PHASE_FLAG14,
  GPIO_FUNC_MUX_PHASE_FLAG15,
  GPIO_FUNC_MUX_PHASE_FLAG16,
  GPIO_FUNC_MUX_PHASE_FLAG17,
  GPIO_FUNC_MUX_PHASE_FLAG18,
  GPIO_FUNC_MUX_PHASE_FLAG19,
  GPIO_FUNC_MUX_PHASE_FLAG2,
  GPIO_FUNC_MUX_PHASE_FLAG20,
  GPIO_FUNC_MUX_PHASE_FLAG21,
  GPIO_FUNC_MUX_PHASE_FLAG22,
  GPIO_FUNC_MUX_PHASE_FLAG23,
  GPIO_FUNC_MUX_PHASE_FLAG24,
  GPIO_FUNC_MUX_PHASE_FLAG25,
  GPIO_FUNC_MUX_PHASE_FLAG26,
  GPIO_FUNC_MUX_PHASE_FLAG27,
  GPIO_FUNC_MUX_PHASE_FLAG28,
  GPIO_FUNC_MUX_PHASE_FLAG29,
  GPIO_FUNC_MUX_PHASE_FLAG3,
  GPIO_FUNC_MUX_PHASE_FLAG30,
  GPIO_FUNC_MUX_PHASE_FLAG31,
  GPIO_FUNC_MUX_PHASE_FLAG4,
  GPIO_FUNC_MUX_PHASE_FLAG5,
  GPIO_FUNC_MUX_PHASE_FLAG6,
  GPIO_FUNC_MUX_PHASE_FLAG7,
  GPIO_FUNC_MUX_PHASE_FLAG8,
  GPIO_FUNC_MUX_PHASE_FLAG9,
  GPIO_FUNC_MUX_PLL_BIST,
  GPIO_FUNC_MUX_PLL_CLK,
  GPIO_FUNC_MUX_PRI_MI2S,
  GPIO_FUNC_MUX_PRNG_ROSC0,
  GPIO_FUNC_MUX_PRNG_ROSC1,
  GPIO_FUNC_MUX_PRNG_ROSC2,
  GPIO_FUNC_MUX_PRNG_ROSC3,
  GPIO_FUNC_MUX_QDSS_CTI,
  GPIO_FUNC_MUX_QDSS_GPIO,
  GPIO_FUNC_MUX_QDSS_GPIO0,
  GPIO_FUNC_MUX_QDSS_GPIO1,
  GPIO_FUNC_MUX_QDSS_GPIO10,
  GPIO_FUNC_MUX_QDSS_GPIO11,
  GPIO_FUNC_MUX_QDSS_GPIO12,
  GPIO_FUNC_MUX_QDSS_GPIO13,
  GPIO_FUNC_MUX_QDSS_GPIO14,
  GPIO_FUNC_MUX_QDSS_GPIO15,
  GPIO_FUNC_MUX_QDSS_GPIO2,
  GPIO_FUNC_MUX_QDSS_GPIO3,
  GPIO_FUNC_MUX_QDSS_GPIO4,
  GPIO_FUNC_MUX_QDSS_GPIO5,
  GPIO_FUNC_MUX_QDSS_GPIO6,
  GPIO_FUNC_MUX_QDSS_GPIO7,
  GPIO_FUNC_MUX_QDSS_GPIO8,
  GPIO_FUNC_MUX_QDSS_GPIO9,
  GPIO_FUNC_MUX_QLINK0_ENABLE,
  GPIO_FUNC_MUX_QLINK0_REQUEST,
  GPIO_FUNC_MUX_QLINK0_WMSS,
  GPIO_FUNC_MUX_QLINK1_ENABLE,
  GPIO_FUNC_MUX_QLINK1_REQUEST,
  GPIO_FUNC_MUX_QLINK1_WMSS,
  GPIO_FUNC_MUX_QLINK2_ENABLE,
  GPIO_FUNC_MUX_QLINK2_REQUEST,
  GPIO_FUNC_MUX_QLINK2_WMSS,
  GPIO_FUNC_MUX_QSPI0,
  GPIO_FUNC_MUX_QSPI1,
  GPIO_FUNC_MUX_QSPI2,
  GPIO_FUNC_MUX_QSPI3,
  GPIO_FUNC_MUX_QSPI_CLK,
  GPIO_FUNC_MUX_QSPI_CS,
  GPIO_FUNC_MUX_QUP0,
  GPIO_FUNC_MUX_QUP1,
  GPIO_FUNC_MUX_QUP10,
  GPIO_FUNC_MUX_QUP11,
  GPIO_FUNC_MUX_QUP12,
  GPIO_FUNC_MUX_QUP13,
  GPIO_FUNC_MUX_QUP14,
  GPIO_FUNC_MUX_QUP15,
  GPIO_FUNC_MUX_QUP16,
  GPIO_FUNC_MUX_QUP17,
  GPIO_FUNC_MUX_QUP18,
  GPIO_FUNC_MUX_QUP19,
  GPIO_FUNC_MUX_QUP2,
  GPIO_FUNC_MUX_QUP20,
  GPIO_FUNC_MUX_QUP21,
  GPIO_FUNC_MUX_QUP3,
  GPIO_FUNC_MUX_QUP4,
  GPIO_FUNC_MUX_QUP5,
  GPIO_FUNC_MUX_QUP6,
  GPIO_FUNC_MUX_QUP7,
  GPIO_FUNC_MUX_QUP8,
  GPIO_FUNC_MUX_QUP9,
  GPIO_FUNC_MUX_QUP_L4,
  GPIO_FUNC_MUX_QUP_L5,
  GPIO_FUNC_MUX_QUP_L6,
  GPIO_FUNC_MUX_SD_WRITE,
  GPIO_FUNC_MUX_SDC40,
  GPIO_FUNC_MUX_SDC41,
  GPIO_FUNC_MUX_SDC42,
  GPIO_FUNC_MUX_SDC43,
  GPIO_FUNC_MUX_SDC4_CLK,
  GPIO_FUNC_MUX_SDC4_CMD,
  GPIO_FUNC_MUX_SEC_MI2S,
  GPIO_FUNC_MUX_TB_TRIG,
  GPIO_FUNC_MUX_TGU_CH0,
  GPIO_FUNC_MUX_TGU_CH1,
  GPIO_FUNC_MUX_TGU_CH2,
  GPIO_FUNC_MUX_TGU_CH3,
  GPIO_FUNC_MUX_TMESS_PRNG0,
  GPIO_FUNC_MUX_TMESS_PRNG1,
  GPIO_FUNC_MUX_TMESS_PRNG2,
  GPIO_FUNC_MUX_TMESS_PRNG3,
  GPIO_FUNC_MUX_TSENSE_PWM1,
  GPIO_FUNC_MUX_TSENSE_PWM2,
  GPIO_FUNC_MUX_UIM0_CLK,
  GPIO_FUNC_MUX_UIM0_DATA,
  GPIO_FUNC_MUX_UIM0_PRESENT,
  GPIO_FUNC_MUX_UIM0_RESET,
  GPIO_FUNC_MUX_UIM1_CLK,
  GPIO_FUNC_MUX_UIM1_DATA,
  GPIO_FUNC_MUX_UIM1_PRESENT,
  GPIO_FUNC_MUX_UIM1_RESET,
  GPIO_FUNC_MUX_USB2PHY_AC,
  GPIO_FUNC_MUX_USB_PHY,
  GPIO_FUNC_MUX_VFR_0,
  GPIO_FUNC_MUX_VFR_1,
  GPIO_FUNC_MUX_VSENSE_TRIGGER,
  GPIO_FUNC_MUX_MAX     = GPIO_FUNC_MUX_VSENSE_TRIGGER,
  GPIO_FUNC_MUX_INVALID = 0xFF
};

/* GPIO Control Register */
typedef struct {
  UINT32 Pull : 2;          /* bit [1:0] - Pull configuration */
  UINT32 MuxSel : 4;        /* bit [5:2] - Function mux select */
  UINT32 DriveStrength : 3; /* bit [8:6] - Drive strength */
  UINT32 OutputEnable : 1;  /* bit [9:9] - Output enable */
  UINT32 Reserved1 : 1;     /* bit [10:10] - Open Drain (not defined) */
  UINT32 EGpioPresent : 1;  /* bit [11:11] - EGPIO present */
  UINT32 EGpioEnabled : 1;  /* bit [12:12] - EGPIO enabled */
  UINT32 Reserved : 19;     /* bit [31:13] */
} GpioControlRegInfo;
_Static_assert(
    sizeof(GpioControlRegInfo) == sizeof(UINT32),
    "GpioControlRegInfo structure size error");

/* GPIO IO Register */
typedef struct {
  UINT32 Input : 1;     /* bit [0] - Input value */
  UINT32 Output : 1;    /* bit [1] - Output value */
  UINT32 Reserved : 30; /* bit [31:2] */
} GpioIoRegInfo;
_Static_assert(
    sizeof(GpioIoRegInfo) == sizeof(UINT32),
    "GpioIoRegInfo structure size error");

/* GPIO Interrupt Configuration Register */
typedef struct {
  UINT32 InterruptEn : 1;        /* bit [0] - Interrupt enable */
  UINT32 InterruptPolarity : 1;  /* bit [1] - Interrupt polarity */
  UINT32 InterruptDetection : 2; /* bit [3:2] - Interrupt detection */
  UINT32 InterruptRawStatus : 1; /* bit [4] - Interrupt raw status */
  UINT32 Reserved : 27;          /* bit [31:5] */
} GpioInterruptCfgRegInfo;
_Static_assert(
    sizeof(GpioInterruptCfgRegInfo) == sizeof(UINT32),
    "GpioInterruptCfgRegInfo structure size error");

/* GPIO Interrupt Status Register */
typedef struct {
  UINT32 InterruptStatus : 1; /* bit [0] - Interrupt status */
  UINT32 Reserved : 31;       /* bit [31:1] */
} GpioInterruptStatusRegInfo;
_Static_assert(
    sizeof(GpioInterruptStatusRegInfo) == sizeof(UINT32),
    "GpioInterruptStatusRegInfo structure size error");

/* GPIO Interrupt Target Register */
#define GPIO_INTERRUPT_TARGET_KPSS_VAL 3
typedef struct {
  UINT32 Reserved : 5;       /* bit [4:0] */
  UINT32 Target : 3;         /* bit [7:5] - Interrupt target */
  UINT32 Reserved_high : 24; /* bit [31:8] */
} GpioInterruptTargetRegInfo;
_Static_assert(
    sizeof(GpioInterruptTargetRegInfo) == sizeof(UINT32),
    "GpioInterruptTargetRegInfo structure size error");

/* GPIO Pin Information */

/* Function declarations */
UINTN GpioGetCfgRegByIndex(
    GpioDeviceContext *GpioContext, GpioConfigRegType RegType, UINTN GpioIndex);

GpioDeviceContext *CrTargetGetGpioContext(VOID);
